"use strict";(self["webpackChunknasa_images"]=self["webpackChunknasa_images"]||[]).push([[11],{11:function(e,a,t){t.r(a),t.d(a,{default:function(){return f}});var l=t(655),n=t(252),i=t(577),u=t(262),r=t(154),s=t(907),o={style:{display:"inline-block"}},d=["src","alt"],c=(0,n.aZ)({__name:"PictureOfTheDay",setup:function(e){var a=this,t=(0,s.oR)(),c=t.state.apiKey,v=(0,n.Fl)((function(){return t.state.isLoggedIn})),p=(0,u.iH)({url:"",title:"",explanation:"",isLiked:!1}),f=(0,u.iH)(!0),h=(0,u.iH)(""),g=(new Date).toJSON().split("T")[0],k=(0,u.iH)(g),m=function(){return(0,l.mG)(a,void 0,void 0,(function(){var e,a;return(0,l.Jh)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,3,4]),f.value=!0,h.value="",[4,r.Z.get("https://api.nasa.gov/planetary/apod",{params:{api_key:c,date:k.value}})];case 1:return e=l.sent(),p.value=e.data,a=t.getters.isImageInFavorites(p.value.url),p.value.isLiked=a,[3,4];case 2:return l.sent(),h.value="Failed to fetch picture of the day.",[3,4];case 3:return f.value=!1,[7];case 4:return[2]}}))}))};function y(){p.value.isLiked=!p.value.isLiked,t.dispatch("addToFavorites",p.value)}return(0,n.bv)(m),function(e,a){var t=(0,n.up)("v-text-field"),l=(0,n.up)("v-btn"),u=(0,n.up)("v-card");return(0,n.wg)(),(0,n.j4)(u,{loading:f.value,class:"pa-3 ma-1",variant:"outlined"},{default:(0,n.w5)((function(){return[(0,n._)("div",o,[(0,n.Wm)(t,{label:"Select day","readonly-landscape":"",modelValue:k.value,"onUpdate:modelValue":a[0]||(a[0]=function(e){return k.value=e}),variant:"outlined",type:"date",onChange:m,style:{width:"200px"},"hide-details":""},null,8,["modelValue"])]),(0,n._)("h2",null,[(0,n.Uk)((0,i.zw)(p.value.title)+" ",1),v.value?((0,n.wg)(),(0,n.j4)(l,{key:0,onClick:y,icon:"fa-heart",color:p.value.isLiked?"purple":"white",size:"x-small"},null,8,["color"])):(0,n.kq)("",!0)]),(0,n._)("img",{src:p.value.url,alt:p.value.title,class:"pa-2",id:"image"},null,8,d),(0,n._)("p",null,(0,i.zw)(p.value.explanation),1)]})),_:1},8,["loading"])}}}),v=t(744);const p=(0,v.Z)(c,[["__scopeId","data-v-2878a3e2"]]);var f=p}}]);
//# sourceMappingURL=11.b4b799df.js.map
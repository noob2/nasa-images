{"version":3,"file":"js/11.b4b799df.js","mappings":"yNAIMA,EAAa,CAAEC,MAAO,CAAC,QAAU,iBACjCC,EAAa,CAAC,MAAO,OAc3B,GAA4B,QAAiB,CAC3CC,OAAQ,kBACRC,MAAA,SAAMC,GAAN,WAEIC,GAAQ,UACRC,EAAUD,EAAME,MAAMC,OAEtBC,GAAa,SAAS,WAC1B,OAAOJ,EAAME,MAAME,UACrB,IAEMC,GAAU,QAAa,CAC3BC,IAAK,GACLC,MAAO,GACPC,YAAa,GACbC,SAAS,IAGLC,GAAY,SAAI,GAChBC,GAAQ,QAAI,IACZC,GAAQ,IAAIC,MAAOC,SAASC,MAAM,KAAK,GACvCC,GAAe,QAAYJ,GAE3BK,EAAuB,sD,gEAKR,O,uBAHjBP,EAAUQ,OAAQ,EAClBP,EAAMO,MAAQ,GAEG,GAAMC,EAAA,MAAU,sCAAuC,CACtEC,OAAQ,CAAEnB,QAAO,EAAEoB,KAAML,EAAaE,U,cADlCI,EAAW,SAGjBjB,EAAQa,MAAQI,EAASC,KAEnBd,EAAUT,EAAMwB,QAAQC,mBAAmBpB,EAAQa,MAAMZ,KAC/DD,EAAQa,MAAMT,QAAUA,E,6BAExBE,EAAMO,MAAQ,sC,oBAEdR,EAAUQ,OAAQ,E,6BAItB,SAASQ,IACPrB,EAAQa,MAAMT,SAAWJ,EAAQa,MAAMT,QACvCT,EAAM2B,SAAS,iBAAkBtB,EAAQa,MAC3C,CAIA,OAFA,QAAUD,GAEH,SAACW,EAAUC,GAChB,IAAMC,GAA0B,QAAkB,gBAC5CC,GAAmB,QAAkB,SACrCC,GAAoB,QAAkB,UAE5C,OAAQ,WAAc,QAAaA,EAAmB,CACpDC,QAASvB,EAAUQ,MACnBgB,MAAO,YACPC,QAAS,YACR,CACDC,SAAS,SAAS,WAAM,QACtB,IAAAC,GAAoB,MAAO3C,EAAY,EACrC,QAAaoC,EAAyB,CACpCQ,MAAO,aACP,qBAAsB,GACtBC,WAAYvB,EAAaE,MACzB,sBAAuBW,EAAO,KAAOA,EAAO,GAAK,SAACW,GAAgB,OAAC,EAAetB,MAAQsB,CAAxB,GAClEL,QAAS,WACTM,KAAM,OACNC,SAAUzB,EACVtB,MAAO,CAAC,MAAQ,SAChB,eAAgB,IACf,KAAM,EAAG,CAAC,kBAEf,IAAA0C,GAAoB,KAAM,KAAM,EAC9B,SAAiB,QAAiBhC,EAAQa,MAAMX,OAAS,IAAK,GAC7DH,EAAgB,QACZ,WAAc,QAAa2B,EAAkB,CAC5CY,IAAK,EACLC,QAASlB,EACTmB,KAAM,WACNC,MAAOzC,EAAQa,MAAMT,QAAU,SAAW,QAC1CsC,KAAM,WACL,KAAM,EAAG,CAAC,YACb,QAAoB,IAAI,MAE9B,IAAAV,GAAoB,MAAO,CACzBW,IAAK3C,EAAQa,MAAMZ,IACnB2C,IAAK5C,EAAQa,MAAMX,MACnB2B,MAAO,OACPgB,GAAI,SACH,KAAM,EAAGtD,IACZ,IAAAyC,GAAoB,IAAK,MAAM,QAAiBhC,EAAQa,MAAMV,aAAc,GAhCtD,IAkCxB6B,EAAG,GACF,EAAG,CAAC,WACT,CACA,I,SC7GA,MAAMc,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://nasa-images/./src/views/PictureOfTheDay.vue?f856","webpack://nasa-images/./src/views/PictureOfTheDay.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2878a3e2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { style: {\"display\":\"inline-block\"} }\nconst _hoisted_2 = [\"src\", \"alt\"]\n\nimport { ref, onMounted, computed } from 'vue'\r\nimport axios from 'axios'\r\n\r\nimport { useStore } from 'vuex'\r\ninterface Picture {\r\n  url: string\r\n  title: string\r\n  explanation: string\r\n  isLiked: boolean\r\n}\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'PictureOfTheDay',\n  setup(__props) {\n\r\nconst store = useStore()\r\nconst api_key = store.state.apiKey\r\n\r\nconst isLoggedIn = computed(() => {\r\n  return store.state.isLoggedIn\r\n})\r\n\r\nconst picture = ref<Picture>({\r\n  url: '',\r\n  title: '',\r\n  explanation: '',\r\n  isLiked: false\r\n})\r\n\r\nconst isLoading = ref(true)\r\nconst error = ref('')\r\nconst today = new Date().toJSON().split('T')[0] // date in format 'YYY-MM-DD'\r\nconst selectedDate = ref<string>(today)\r\n\r\nconst fetchPictureOfTheDay = async () => {\r\n  try {\r\n    isLoading.value = true\r\n    error.value = ''\r\n\r\n    const response = await axios.get('https://api.nasa.gov/planetary/apod', {\r\n      params: { api_key, date: selectedDate.value }\r\n    })\r\n    picture.value = response.data\r\n\r\n    const isLiked = store.getters.isImageInFavorites(picture.value.url)\r\n    picture.value.isLiked = isLiked\r\n  } catch (err) {\r\n    error.value = 'Failed to fetch picture of the day.'\r\n  } finally {\r\n    isLoading.value = false\r\n  }\r\n}\r\n\r\nfunction addToFavorites() {\r\n  picture.value.isLiked = !picture.value.isLiked\r\n  store.dispatch('addToFavorites', picture.value)\r\n}\r\n\r\nonMounted(fetchPictureOfTheDay)\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_text_field = _resolveComponent(\"v-text-field\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n\n  return (_openBlock(), _createBlock(_component_v_card, {\n    loading: isLoading.value,\n    class: \"pa-3 ma-1\",\n    variant: \"outlined\"\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createVNode(_component_v_text_field, {\n          label: \"Select day\",\n          \"readonly-landscape\": \"\",\n          modelValue: selectedDate.value,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((selectedDate).value = $event)),\n          variant: \"outlined\",\n          type: \"date\",\n          onChange: fetchPictureOfTheDay,\n          style: {\"width\":\"200px\"},\n          \"hide-details\": \"\"\n        }, null, 8, [\"modelValue\"])\n      ]),\n      _createElementVNode(\"h2\", null, [\n        _createTextVNode(_toDisplayString(picture.value.title) + \" \", 1),\n        (isLoggedIn.value)\n          ? (_openBlock(), _createBlock(_component_v_btn, {\n              key: 0,\n              onClick: addToFavorites,\n              icon: \"fa-heart\",\n              color: picture.value.isLiked ? 'purple' : 'white',\n              size: \"x-small\"\n            }, null, 8, [\"color\"]))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _createElementVNode(\"img\", {\n        src: picture.value.url,\n        alt: picture.value.title,\n        class: \"pa-2\",\n        id: \"image\"\n      }, null, 8, _hoisted_2),\n      _createElementVNode(\"p\", null, _toDisplayString(picture.value.explanation), 1)\n    ]),\n    _: 1\n  }, 8, [\"loading\"]))\n}\n}\n\n})","import script from \"./PictureOfTheDay.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./PictureOfTheDay.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./PictureOfTheDay.vue?vue&type=style&index=0&id=2878a3e2&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\hacker\\\\Documents\\\\nasa-images\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2878a3e2\"]])\n\nexport default __exports__"],"names":["_hoisted_1","style","_hoisted_2","__name","setup","__props","store","api_key","state","apiKey","isLoggedIn","picture","url","title","explanation","isLiked","isLoading","error","today","Date","toJSON","split","selectedDate","fetchPictureOfTheDay","value","axios","params","date","response","data","getters","isImageInFavorites","addToFavorites","dispatch","_ctx","_cache","_component_v_text_field","_component_v_btn","_component_v_card","loading","class","variant","default","_","label","modelValue","$event","type","onChange","key","onClick","icon","color","size","src","alt","id","__exports__"],"sourceRoot":""}
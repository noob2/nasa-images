"use strict";(self["webpackChunknasa_images"]=self["webpackChunknasa_images"]||[]).push([[981],{981:function(e,a,n){n.r(a),n.d(a,{default:function(){return h}});var t=n(655),u=n(252),r=n(577),i=n(154),l=n(262),o=n(907),c={id:"sliderContainer",class:"ma-2"},v=["src"],s="https://api.nasa.gov/EPIC/api/enhanced",d=(0,u.aZ)({__name:"EpicEarth",setup:function(e){var a=this,n=(0,o.oR)(),d=n.state.apiKey,f=(0,l.iH)(-1),p=(0,l.iH)(""),h=(0,l.iH)(!0),m=(0,l.iH)([]),g=(0,l.iH)(""),_=null,w=(0,l.iH)(!1);function k(){var e;return(0,t.mG)(this,void 0,void 0,(function(){var a;return(0,t.Jh)(this,(function(n){a=null===(e=m.value[f.value])||void 0===e?void 0:e.identifier;try{if(!a)throw new Error("Could not find the latest image for this date");h.value=!0,p.value="https://epic.gsfc.nasa.gov/archive/natural/".concat(g.value,"/png/epic_1b_").concat(a,".png")}catch(t){console.error(t),h.value=!1}return[2]}))}))}function b(){h.value=!1}(0,u.bv)((function(){return(0,t.mG)(a,void 0,void 0,(function(){var e,a,n;return(0,t.Jh)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,i.Z.get(s,{params:{api_key:d}})];case 1:return e=t.sent(),m.value=e.data.map((function(e){return{identifier:e.identifier,date:e.date}})),a=e.data[e.data.length-1],g.value=a.date.split(" ")[0].replaceAll("-","/"),f.value=0,[3,3];case 2:return n=t.sent(),console.error(n),h.value=!1,[3,3];case 3:return[2]}}))}))})),(0,u.YP)(f,(function(){k()}));var y=(0,u.Fl)((function(){var e;return null===(e=m.value[f.value])||void 0===e?void 0:e.date}));function I(){w.value?(clearInterval(_),_=null):_=setInterval((function(){f.value=(f.value+1)%m.value.length}),2e3),w.value=!w.value}return(0,u.Ah)((function(){clearInterval(_)})),function(e,a){var n=(0,u.up)("v-slider"),t=(0,u.up)("v-icon"),i=(0,u.up)("v-btn"),l=(0,u.up)("v-chip"),o=(0,u.up)("v-card");return(0,u.wg)(),(0,u.j4)(o,{variant:"outlined",loading:h.value,"min-height":"20"},{default:(0,u.w5)((function(){return[(0,u._)("div",c,[(0,u.Wm)(n,{modelValue:f.value,"onUpdate:modelValue":a[0]||(a[0]=function(e){return f.value=e}),min:0,max:m.value.length-1,step:1,"hide-details":""},null,8,["modelValue","max"]),(0,u.Wm)(i,{onClick:I},{default:(0,u.w5)((function(){return[w.value?((0,u.wg)(),(0,u.j4)(t,{key:0,color:"error"},{default:(0,u.w5)((function(){return[(0,u.Uk)("fa-pause")]})),_:1})):((0,u.wg)(),(0,u.j4)(t,{key:1,color:"success"},{default:(0,u.w5)((function(){return[(0,u.Uk)("fa-play")]})),_:1}))]})),_:1})]),(0,u.Wm)(l,{class:"mb-2",color:"success",variant:"outlined"},{default:(0,u.w5)((function(){return[(0,u.Wm)(t,{start:""},{default:(0,u.w5)((function(){return[(0,u.Uk)("fa-clock")]})),_:1}),(0,u.Uk)(" "+(0,r.zw)(y.value),1)]})),_:1}),(0,u._)("img",{src:p.value,alt:"Earth Image",onLoad:b,id:"earthImage"},null,40,v)]})),_:1},8,["loading"])}}}),f=n(744);const p=(0,f.Z)(d,[["__scopeId","data-v-ab0cc45a"]]);var h=p}}]);
//# sourceMappingURL=981.b22da2f1.js.map